{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cydyq\\\\Documents\\\\Python\\\\TesteCacaPreco\\\\cacapreco_ai\\\\busca-app\\\\frontend\\\\src\\\\pages\\\\MeusProdutos.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\n\n// Ícone de seta para o botão de expandir\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ArrowIcon = ({\n  expanded\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  width: \"24\",\n  height: \"24\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  fill: \"none\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  style: {\n    transform: expanded ? 'rotate(180deg)' : 'rotate(0deg)',\n    transition: 'transform 0.2s'\n  },\n  children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 5\n}, this);\n_c = ArrowIcon;\nconst MeusProdutos = () => {\n  _s();\n  const navigate = useNavigate();\n  const [produtos, setProdutos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    token\n  } = useContext(AuthContext);\n  const [categorias, setCategorias] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [notification, setNotification] = useState({\n    message: '',\n    type: ''\n  });\n\n  // Estados para as novas funcionalidades\n  const [viewMode, setViewMode] = useState('card');\n  const [expandedRowId, setExpandedRowId] = useState(null);\n  const [editingProduct, setEditingProduct] = useState(null); // Estado para edição\n\n  // Função para exibir notificações\n  const showNotification = (message, type) => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => setNotification({\n      message: '',\n      type: ''\n    }), 3000);\n  };\n\n  // Função para buscar os produtos da API\n  const fetchProdutos = useCallback(async () => {\n    setLoading(true);\n    try {\n      const url = selectedCategory ? `/api/produtos/meus-produtos/?id_categoria=${selectedCategory}` : '/api/produtos/meus-produtos/';\n      const response = await axios.get(url, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setProdutos(response.data);\n    } catch (err) {\n      console.error(\"Falha ao buscar produtos:\", err);\n    }\n    setLoading(false);\n  }, [token, selectedCategory]);\n\n  // Efeito para buscar dados iniciais\n  useEffect(() => {\n    const fetchCategorias = async () => {\n      try {\n        const response = await axios.get('/api/categorias/', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setCategorias(response.data);\n      } catch (err) {\n        console.error(\"Falha ao buscar categorias\", err);\n      }\n    };\n    if (token) {\n      fetchProdutos();\n      fetchCategorias();\n    }\n  }, [token, fetchProdutos]);\n\n  // --- FUNÇÕES DE EDIÇÃO RESTAURADAS ---\n\n  const handleEditClick = product => {\n    setEditingProduct({\n      ...product\n    });\n  };\n  const handleCancelEdit = () => {\n    setEditingProduct(null);\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditingProduct(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSaveClick = async () => {\n    if (!editingProduct) return;\n    try {\n      await axios.patch(`/api/ofertas/${editingProduct.id}/`, {\n        preco: editingProduct.preco,\n        quantidade_disponivel: editingProduct.quantidade_disponivel\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      showNotification('Oferta atualizada com sucesso!', 'success');\n      setEditingProduct(null);\n      fetchProdutos();\n    } catch (err) {\n      showNotification('Falha ao atualizar a oferta.', 'error');\n    }\n  };\n  const handleDeleteClick = async ofertaId => {\n    if (window.confirm('Tem certeza que deseja excluir esta oferta de produto?')) {\n      try {\n        await axios.delete(`/api/ofertas/${ofertaId}/`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        showNotification('Oferta excluída com sucesso!', 'success');\n        fetchProdutos();\n      } catch (err) {\n        showNotification('Falha ao excluir a oferta.', 'error');\n        console.error(err);\n      }\n    }\n  };\n  const toggleImageExpansion = produtoId => {\n    setExpandedRowId(prevId => prevId === produtoId ? null : produtoId);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"layout-logado-content\",\n    style: {\n      textAlign: 'center'\n    },\n    children: \"Carregando...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 25\n  }, this);\n\n  // --- RENDERIZAÇÃO PRINCIPAL ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"layout-logado-content\",\n    children: [notification.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification ${notification.type}`,\n      children: notification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"dashboard-title\",\n        style: {\n          marginBottom: 0\n        },\n        children: \"Meus Produtos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/cadastrar-produto'),\n        className: \"btn btn-primary\",\n        children: \"Cadastrar Novo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"view-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          flexGrow: 1,\n          maxWidth: '400px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"categoryFilter\",\n          children: \"Filtrar por Categoria:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"categoryFilter\",\n          value: selectedCategory,\n          onChange: e => setSelectedCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Todas as Categorias\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), categorias.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat.id,\n            children: cat.nome\n          }, cat.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 49\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-toggle-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('card'),\n          className: `btn ${viewMode === 'card' ? 'btn-terciaria' : 'btn-secondary'}`,\n          children: \"Cards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('list'),\n          className: `btn ${viewMode === 'list' ? 'btn-terciaria' : 'btn-secondary'}`,\n          children: \"Lista\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this), produtos.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '20px'\n      },\n      children: \"Nenhum produto encontrado.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: viewMode === 'card' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-grid\",\n        children: produtos.map(produto => {\n          const imageUrl = produto.url_imagem ? `${process.env.REACT_APP_API_URL}${produto.url_imagem}` : '../public/assets/ia.png';\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: editingProduct && editingProduct.id === produto.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageUrl,\n                alt: produto.nome_produto,\n                className: \"product-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                style: {\n                  width: '100%',\n                  textAlign: 'left'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pre\\xE7o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  name: \"preco\",\n                  value: editingProduct.preco,\n                  onChange: handleChange,\n                  step: \"0.01\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                style: {\n                  width: '100%',\n                  textAlign: 'left'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Estoque:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  name: \"quantidade_disponivel\",\n                  value: editingProduct.quantidade_disponivel,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveClick,\n                className: \"btn btn-primary\",\n                style: {\n                  width: '100%'\n                },\n                children: \"Salvar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCancelEdit,\n                className: \"btn btn-secondary\",\n                style: {\n                  width: '100%',\n                  marginTop: '10px'\n                },\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageUrl,\n                alt: produto.nome_produto,\n                className: \"product-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"card-title\",\n                children: produto.nome_produto\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Pre\\xE7o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 74\n                }, this), \" R$ \", produto.preco]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Estoque:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 74\n                }, this), \" \", produto.quantidade_disponivel]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditClick(produto),\n                className: \"btn btn-secondary\",\n                children: \"Editar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteClick(produto.id),\n                className: \"btn btn-danger\",\n                style: {\n                  background: 'none',\n                  border: 'none',\n                  cursor: 'pointer'\n                },\n                children: \"Excluir\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true)\n          }, produto.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-view-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"product-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Produto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Varia\\xE7\\xE3o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Pre\\xE7o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Estoque\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Imagem\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"A\\xE7\\xF5es\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: produtos.map(produto => {\n              const imageUrl = produto.url_imagem ? `${process.env.REACT_APP_API_URL}${produto.url_imagem}` : '../public/assets/ia.png';\n              const isExpanded = expandedRowId === produto.id;\n              return /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"product-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: produto.nome_produto\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: `${produto.nome_variacao} - ${produto.valor_variacao}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"R$ \", produto.preco]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: produto.quantidade_disponivel\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => toggleImageExpansion(produto.id),\n                      className: \"expand-btn\",\n                      children: /*#__PURE__*/_jsxDEV(ArrowIcon, {\n                        expanded: isExpanded\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 205,\n                        columnNumber: 137\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"action-links\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleEditClick(produto),\n                      className: \"edit\",\n                      children: \"Editar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleDeleteClick(produto.id),\n                      className: \"btn btn-danger\",\n                      children: \"Excluir\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 49\n                }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"image-expansion-row\",\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: imageUrl,\n                      alt: produto.nome_produto,\n                      className: \"expanded-product-image\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 105\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 89\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 53\n                }, this)]\n              }, produto.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 45\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n};\n_s(MeusProdutos, \"BNBDTqchLqc6DWzbBmusQyTSzM4=\", false, function () {\n  return [useNavigate];\n});\n_c2 = MeusProdutos;\nexport default MeusProdutos;\nvar _c, _c2;\n$RefreshReg$(_c, \"ArrowIcon\");\n$RefreshReg$(_c2, \"MeusProdutos\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useCallback","useNavigate","axios","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","ArrowIcon","expanded","viewBox","width","height","stroke","strokeWidth","fill","strokeLinecap","strokeLinejoin","style","transform","transition","children","points","fileName","_jsxFileName","lineNumber","columnNumber","_c","MeusProdutos","_s","navigate","produtos","setProdutos","loading","setLoading","token","categorias","setCategorias","selectedCategory","setSelectedCategory","notification","setNotification","message","type","viewMode","setViewMode","expandedRowId","setExpandedRowId","editingProduct","setEditingProduct","showNotification","setTimeout","fetchProdutos","url","response","get","headers","Authorization","data","err","console","error","fetchCategorias","handleEditClick","product","handleCancelEdit","handleChange","e","name","value","target","prev","handleSaveClick","patch","id","preco","quantidade_disponivel","handleDeleteClick","ofertaId","window","confirm","delete","toggleImageExpansion","produtoId","prevId","className","textAlign","display","justifyContent","alignItems","marginBottom","onClick","flexGrow","maxWidth","htmlFor","onChange","map","cat","nome","length","marginTop","produto","imageUrl","url_imagem","process","env","REACT_APP_API_URL","src","alt","nome_produto","step","background","border","cursor","isExpanded","nome_variacao","valor_variacao","colSpan","_c2","$RefreshReg$"],"sources":["C:/Users/cydyq/Documents/Python/TesteCacaPreco/cacapreco_ai/busca-app/frontend/src/pages/MeusProdutos.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\n\n// Ícone de seta para o botão de expandir\nconst ArrowIcon = ({ expanded }) => (\n    <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" style={{ transform: expanded ? 'rotate(180deg)' : 'rotate(0deg)', transition: 'transform 0.2s' }}>\n        <polyline points=\"6 9 12 15 18 9\"></polyline>\n    </svg>\n);\n\nconst MeusProdutos = () => {\n    const navigate = useNavigate();\n    const [produtos, setProdutos] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const { token } = useContext(AuthContext);\n    const [categorias, setCategorias] = useState([]);\n    const [selectedCategory, setSelectedCategory] = useState('');\n    const [notification, setNotification] = useState({ message: '', type: '' });\n    \n    // Estados para as novas funcionalidades\n    const [viewMode, setViewMode] = useState('card');\n    const [expandedRowId, setExpandedRowId] = useState(null);\n    const [editingProduct, setEditingProduct] = useState(null); // Estado para edição\n\n    // Função para exibir notificações\n    const showNotification = (message, type) => {\n        setNotification({ message, type });\n        setTimeout(() => setNotification({ message: '', type: '' }), 3000);\n    };\n\n    // Função para buscar os produtos da API\n    const fetchProdutos = useCallback(async () => {\n        setLoading(true);\n        try {\n            const url = selectedCategory \n                ? `/api/produtos/meus-produtos/?id_categoria=${selectedCategory}` \n                : '/api/produtos/meus-produtos/';\n            const response = await axios.get(url, { headers: { Authorization: `Bearer ${token}` } });\n            setProdutos(response.data);\n        } catch (err) {\n            console.error(\"Falha ao buscar produtos:\", err);\n        }\n        setLoading(false);\n    }, [token, selectedCategory]);\n\n    // Efeito para buscar dados iniciais\n    useEffect(() => {\n        const fetchCategorias = async () => {\n            try {\n                const response = await axios.get('/api/categorias/', { headers: { Authorization: `Bearer ${token}` } });\n                setCategorias(response.data);\n            } catch (err) {\n                console.error(\"Falha ao buscar categorias\", err);\n            }\n        };\n        if (token) {\n            fetchProdutos();\n            fetchCategorias();\n        }\n    }, [token, fetchProdutos]);\n    \n    // --- FUNÇÕES DE EDIÇÃO RESTAURADAS ---\n\n    const handleEditClick = (product) => {\n        setEditingProduct({ ...product });\n    };\n\n    const handleCancelEdit = () => {\n        setEditingProduct(null);\n    };\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setEditingProduct(prev => ({ ...prev, [name]: value }));\n    };\n\n    const handleSaveClick = async () => {\n        if (!editingProduct) return;\n        try {\n            await axios.patch(`/api/ofertas/${editingProduct.id}/`, {\n                preco: editingProduct.preco,\n                quantidade_disponivel: editingProduct.quantidade_disponivel,\n            }, { headers: { Authorization: `Bearer ${token}` } });\n            showNotification('Oferta atualizada com sucesso!', 'success');\n            setEditingProduct(null);\n            fetchProdutos();\n        } catch (err) {\n            showNotification('Falha ao atualizar a oferta.', 'error');\n        }\n    };\n\n    const handleDeleteClick = async (ofertaId) => {\n        if (window.confirm('Tem certeza que deseja excluir esta oferta de produto?')) {\n            try {\n                await axios.delete(`/api/ofertas/${ofertaId}/`, { headers: { Authorization: `Bearer ${token}` } });\n                showNotification('Oferta excluída com sucesso!', 'success');\n                fetchProdutos();\n            } catch (err) {\n                showNotification('Falha ao excluir a oferta.', 'error');\n                console.error(err);\n            }\n        }\n    };\n\n    const toggleImageExpansion = (produtoId) => {\n        setExpandedRowId(prevId => (prevId === produtoId ? null : produtoId));\n    };\n\n    if (loading) return <div className=\"layout-logado-content\" style={{textAlign: 'center'}}>Carregando...</div>;\n\n    // --- RENDERIZAÇÃO PRINCIPAL ---\n    return (\n        <div className=\"layout-logado-content\">\n            {/* ... (código de notificação e cabeçalho da página) ... */}\n            {notification.message && (\n    \n            <div className={`notification ${notification.type}`}>\n                {notification.message}\n            </div>\n            )}\n\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n                <h1 className=\"dashboard-title\" style={{marginBottom: 0}}>Meus Produtos</h1>\n                <button onClick={() => navigate('/cadastrar-produto')} className=\"btn btn-primary\">Cadastrar Novo</button>\n            </div>\n            <div className=\"view-controls\">\n                <div className=\"form-group\" style={{ flexGrow: 1, maxWidth: '400px' }}>\n                    <label htmlFor=\"categoryFilter\">Filtrar por Categoria:</label>\n                    <select id=\"categoryFilter\" value={selectedCategory} onChange={(e) => setSelectedCategory(e.target.value)}>\n                        <option value=\"\">Todas as Categorias</option>\n                        {categorias.map(cat => (<option key={cat.id} value={cat.id}>{cat.nome}</option>))}\n                    </select>\n                </div>\n                <div className=\"view-toggle-buttons\">\n                    <button onClick={() => setViewMode('card')} className={`btn ${viewMode === 'card' ? 'btn-terciaria' : 'btn-secondary'}`}>Cards</button>\n                    <button onClick={() => setViewMode('list')} className={`btn ${viewMode === 'list' ? 'btn-terciaria' : 'btn-secondary'}`}>Lista</button>\n                </div>\n            </div>\n\n            {produtos.length === 0 ? (\n                <p style={{ textAlign: 'center', marginTop: '20px' }}>Nenhum produto encontrado.</p>\n            ) : (\n                <>\n                    {viewMode === 'card' ? (\n                        <div className=\"card-grid\">\n                            {produtos.map(produto => {\n                                const imageUrl = produto.url_imagem ? `${process.env.REACT_APP_API_URL}${produto.url_imagem}` : '../public/assets/ia.png';\n                                return (\n                                    <div key={produto.id} className=\"card\">\n                                        {editingProduct && editingProduct.id === produto.id ? (\n                                            <> {/* MODO DE EDIÇÃO DO CARD */}\n                                                <img src={imageUrl} alt={produto.nome_produto} className=\"product-image\" />\n                                                <div className=\"form-group\" style={{width: '100%', textAlign: 'left'}}>\n                                                    <label>Preço:</label>\n                                                    <input type=\"number\" name=\"preco\" value={editingProduct.preco} onChange={handleChange} step=\"0.01\" />\n                                                </div>\n                                                <div className=\"form-group\" style={{width: '100%', textAlign: 'left'}}>\n                                                    <label>Estoque:</label>\n                                                    <input type=\"number\" name=\"quantidade_disponivel\" value={editingProduct.quantidade_disponivel} onChange={handleChange} />\n                                                </div>\n                                                <button onClick={handleSaveClick} className=\"btn btn-primary\" style={{width: '100%'}}>Salvar</button>\n                                                <button onClick={handleCancelEdit} className=\"btn btn-secondary\" style={{width: '100%', marginTop: '10px'}}>Cancelar</button>\n                                            </>\n                                        ) : (\n                                            <> {/* MODO DE VISUALIZAÇÃO DO CARD */}\n                                                <img src={imageUrl} alt={produto.nome_produto} className=\"product-image\" />\n                                                <h2 className=\"card-title\">{produto.nome_produto}</h2>\n                                                <p className=\"card-text\"><strong>Preço:</strong> R$ {produto.preco}</p>\n                                                <p className=\"card-text\"><strong>Estoque:</strong> {produto.quantidade_disponivel}</p>\n                                                <button onClick={() => handleEditClick(produto)} className=\"btn btn-secondary\">Editar</button>\n                                                <button onClick={() => handleDeleteClick(produto.id)} className=\"btn btn-danger\" style={{ background: 'none', border: 'none', cursor: 'pointer' }}>Excluir</button>\n                                            </>\n                                        )}\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    ) : (\n                        <div className=\"list-view-container\">\n                            <table className=\"product-table\">\n                                <thead>\n                                    <tr>\n                                        <th>Produto</th>\n                                        <th>Variação</th>\n                                        <th>Preço</th>\n                                        <th>Estoque</th>\n                                        <th>Imagem</th>\n                                        <th>Ações</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {produtos.map(produto => {\n                                        const imageUrl = produto.url_imagem ? `${process.env.REACT_APP_API_URL}${produto.url_imagem}` : '../public/assets/ia.png';\n                                        const isExpanded = expandedRowId === produto.id;\n                                        return (\n                                            <React.Fragment key={produto.id}>\n                                                <tr className=\"product-row\">\n                                                    <td>{produto.nome_produto}</td>\n                                                    <td>{`${produto.nome_variacao} - ${produto.valor_variacao}`}</td>\n                                                    <td>R$ {produto.preco}</td>\n                                                    <td>{produto.quantidade_disponivel}</td>\n                                                    <td>\n                                                        <button onClick={() => toggleImageExpansion(produto.id)} className=\"expand-btn\"><ArrowIcon expanded={isExpanded} /></button>\n                                                    </td>\n                                                    <td className=\"action-links\">\n                                                        <button onClick={() => handleEditClick(produto)} className=\"edit\">Editar</button>\n                                                        <button onClick={() => handleDeleteClick(produto.id)} className=\"btn btn-danger\" >Excluir</button>\n                                                    </td>\n                                                </tr>\n                                                {isExpanded && (\n                                                    <tr className=\"image-expansion-row\"><td colSpan=\"6\"><img src={imageUrl} alt={produto.nome_produto} className=\"expanded-product-image\" /></td></tr>\n                                                )}\n                                            </React.Fragment>\n                                        );\n                                    })}\n                                </tbody>\n                            </table>\n                        </div>\n                    )}\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default MeusProdutos;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,EAAEC,WAAW,QAAQ,OAAO;AAC3E,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,wBAAwB;;AAEpD;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,SAAS,GAAGA,CAAC;EAAEC;AAAS,CAAC,kBAC3BJ,OAAA;EAAKK,OAAO,EAAC,WAAW;EAACC,KAAK,EAAC,IAAI;EAACC,MAAM,EAAC,IAAI;EAACC,MAAM,EAAC,cAAc;EAACC,WAAW,EAAC,GAAG;EAACC,IAAI,EAAC,MAAM;EAACC,aAAa,EAAC,OAAO;EAACC,cAAc,EAAC,OAAO;EAACC,KAAK,EAAE;IAAEC,SAAS,EAAEV,QAAQ,GAAG,gBAAgB,GAAG,cAAc;IAAEW,UAAU,EAAE;EAAiB,CAAE;EAAAC,QAAA,eAC5OhB,OAAA;IAAUiB,MAAM,EAAC;EAAgB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAW;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OAC5C,CACR;AAACC,EAAA,GAJInB,SAAS;AAMf,MAAMoB,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAMC,QAAQ,GAAG7B,WAAW,CAAC,CAAC;EAC9B,MAAM,CAAC8B,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoC,OAAO,EAAEC,UAAU,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM;IAAEsC;EAAM,CAAC,GAAGpC,UAAU,CAACI,WAAW,CAAC;EACzC,MAAM,CAACiC,UAAU,EAAEC,aAAa,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACyC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAAC2C,YAAY,EAAEC,eAAe,CAAC,GAAG5C,QAAQ,CAAC;IAAE6C,OAAO,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAG,CAAC,CAAC;;EAE3E;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGhD,QAAQ,CAAC,MAAM,CAAC;EAChD,MAAM,CAACiD,aAAa,EAAEC,gBAAgB,CAAC,GAAGlD,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACmD,cAAc,EAAEC,iBAAiB,CAAC,GAAGpD,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE5D;EACA,MAAMqD,gBAAgB,GAAGA,CAACR,OAAO,EAAEC,IAAI,KAAK;IACxCF,eAAe,CAAC;MAAEC,OAAO;MAAEC;IAAK,CAAC,CAAC;IAClCQ,UAAU,CAAC,MAAMV,eAAe,CAAC;MAAEC,OAAO,EAAE,EAAE;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC,EAAE,IAAI,CAAC;EACtE,CAAC;;EAED;EACA,MAAMS,aAAa,GAAGpD,WAAW,CAAC,YAAY;IAC1CkC,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACA,MAAMmB,GAAG,GAAGf,gBAAgB,GACtB,6CAA6CA,gBAAgB,EAAE,GAC/D,8BAA8B;MACpC,MAAMgB,QAAQ,GAAG,MAAMpD,KAAK,CAACqD,GAAG,CAACF,GAAG,EAAE;QAAEG,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUtB,KAAK;QAAG;MAAE,CAAC,CAAC;MACxFH,WAAW,CAACsB,QAAQ,CAACI,IAAI,CAAC;IAC9B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG,CAAC;IACnD;IACAzB,UAAU,CAAC,KAAK,CAAC;EACrB,CAAC,EAAE,CAACC,KAAK,EAAEG,gBAAgB,CAAC,CAAC;;EAE7B;EACAxC,SAAS,CAAC,MAAM;IACZ,MAAMgE,eAAe,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACA,MAAMR,QAAQ,GAAG,MAAMpD,KAAK,CAACqD,GAAG,CAAC,kBAAkB,EAAE;UAAEC,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUtB,KAAK;UAAG;QAAE,CAAC,CAAC;QACvGE,aAAa,CAACiB,QAAQ,CAACI,IAAI,CAAC;MAChC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACVC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG,CAAC;MACpD;IACJ,CAAC;IACD,IAAIxB,KAAK,EAAE;MACPiB,aAAa,CAAC,CAAC;MACfU,eAAe,CAAC,CAAC;IACrB;EACJ,CAAC,EAAE,CAAC3B,KAAK,EAAEiB,aAAa,CAAC,CAAC;;EAE1B;;EAEA,MAAMW,eAAe,GAAIC,OAAO,IAAK;IACjCf,iBAAiB,CAAC;MAAE,GAAGe;IAAQ,CAAC,CAAC;EACrC,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC3BhB,iBAAiB,CAAC,IAAI,CAAC;EAC3B,CAAC;EAED,MAAMiB,YAAY,GAAIC,CAAC,IAAK;IACxB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCrB,iBAAiB,CAACsB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;EAC3D,CAAC;EAED,MAAMG,eAAe,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI,CAACxB,cAAc,EAAE;IACrB,IAAI;MACA,MAAM9C,KAAK,CAACuE,KAAK,CAAC,gBAAgBzB,cAAc,CAAC0B,EAAE,GAAG,EAAE;QACpDC,KAAK,EAAE3B,cAAc,CAAC2B,KAAK;QAC3BC,qBAAqB,EAAE5B,cAAc,CAAC4B;MAC1C,CAAC,EAAE;QAAEpB,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUtB,KAAK;QAAG;MAAE,CAAC,CAAC;MACrDe,gBAAgB,CAAC,gCAAgC,EAAE,SAAS,CAAC;MAC7DD,iBAAiB,CAAC,IAAI,CAAC;MACvBG,aAAa,CAAC,CAAC;IACnB,CAAC,CAAC,OAAOO,GAAG,EAAE;MACVT,gBAAgB,CAAC,8BAA8B,EAAE,OAAO,CAAC;IAC7D;EACJ,CAAC;EAED,MAAM2B,iBAAiB,GAAG,MAAOC,QAAQ,IAAK;IAC1C,IAAIC,MAAM,CAACC,OAAO,CAAC,wDAAwD,CAAC,EAAE;MAC1E,IAAI;QACA,MAAM9E,KAAK,CAAC+E,MAAM,CAAC,gBAAgBH,QAAQ,GAAG,EAAE;UAAEtB,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUtB,KAAK;UAAG;QAAE,CAAC,CAAC;QAClGe,gBAAgB,CAAC,8BAA8B,EAAE,SAAS,CAAC;QAC3DE,aAAa,CAAC,CAAC;MACnB,CAAC,CAAC,OAAOO,GAAG,EAAE;QACVT,gBAAgB,CAAC,4BAA4B,EAAE,OAAO,CAAC;QACvDU,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MACtB;IACJ;EACJ,CAAC;EAED,MAAMuB,oBAAoB,GAAIC,SAAS,IAAK;IACxCpC,gBAAgB,CAACqC,MAAM,IAAKA,MAAM,KAAKD,SAAS,GAAG,IAAI,GAAGA,SAAU,CAAC;EACzE,CAAC;EAED,IAAIlD,OAAO,EAAE,oBAAO5B,OAAA;IAAKgF,SAAS,EAAC,uBAAuB;IAACnE,KAAK,EAAE;MAACoE,SAAS,EAAE;IAAQ,CAAE;IAAAjE,QAAA,EAAC;EAAa;IAAAE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;;EAE5G;EACA,oBACIrB,OAAA;IAAKgF,SAAS,EAAC,uBAAuB;IAAAhE,QAAA,GAEjCmB,YAAY,CAACE,OAAO,iBAErBrC,OAAA;MAAKgF,SAAS,EAAE,gBAAgB7C,YAAY,CAACG,IAAI,EAAG;MAAAtB,QAAA,EAC/CmB,YAAY,CAACE;IAAO;MAAAnB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CACJ,eAEDrB,OAAA;MAAKa,KAAK,EAAE;QAAEqE,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE,QAAQ;QAAEC,YAAY,EAAE;MAAO,CAAE;MAAArE,QAAA,gBACzGhB,OAAA;QAAIgF,SAAS,EAAC,iBAAiB;QAACnE,KAAK,EAAE;UAACwE,YAAY,EAAE;QAAC,CAAE;QAAArE,QAAA,EAAC;MAAa;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5ErB,OAAA;QAAQsF,OAAO,EAAEA,CAAA,KAAM7D,QAAQ,CAAC,oBAAoB,CAAE;QAACuD,SAAS,EAAC,iBAAiB;QAAAhE,QAAA,EAAC;MAAc;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzG,CAAC,eACNrB,OAAA;MAAKgF,SAAS,EAAC,eAAe;MAAAhE,QAAA,gBAC1BhB,OAAA;QAAKgF,SAAS,EAAC,YAAY;QAACnE,KAAK,EAAE;UAAE0E,QAAQ,EAAE,CAAC;UAAEC,QAAQ,EAAE;QAAQ,CAAE;QAAAxE,QAAA,gBAClEhB,OAAA;UAAOyF,OAAO,EAAC,gBAAgB;UAAAzE,QAAA,EAAC;QAAsB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC9DrB,OAAA;UAAQqE,EAAE,EAAC,gBAAgB;UAACL,KAAK,EAAE/B,gBAAiB;UAACyD,QAAQ,EAAG5B,CAAC,IAAK5B,mBAAmB,CAAC4B,CAAC,CAACG,MAAM,CAACD,KAAK,CAAE;UAAAhD,QAAA,gBACtGhB,OAAA;YAAQgE,KAAK,EAAC,EAAE;YAAAhD,QAAA,EAAC;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAC5CU,UAAU,CAAC4D,GAAG,CAACC,GAAG,iBAAK5F,OAAA;YAAqBgE,KAAK,EAAE4B,GAAG,CAACvB,EAAG;YAAArD,QAAA,EAAE4E,GAAG,CAACC;UAAI,GAAhCD,GAAG,CAACvB,EAAE;YAAAnD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAmC,CAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7E,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,eACNrB,OAAA;QAAKgF,SAAS,EAAC,qBAAqB;QAAAhE,QAAA,gBAChChB,OAAA;UAAQsF,OAAO,EAAEA,CAAA,KAAM9C,WAAW,CAAC,MAAM,CAAE;UAACwC,SAAS,EAAE,OAAOzC,QAAQ,KAAK,MAAM,GAAG,eAAe,GAAG,eAAe,EAAG;UAAAvB,QAAA,EAAC;QAAK;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACvIrB,OAAA;UAAQsF,OAAO,EAAEA,CAAA,KAAM9C,WAAW,CAAC,MAAM,CAAE;UAACwC,SAAS,EAAE,OAAOzC,QAAQ,KAAK,MAAM,GAAG,eAAe,GAAG,eAAe,EAAG;UAAAvB,QAAA,EAAC;QAAK;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAELK,QAAQ,CAACoE,MAAM,KAAK,CAAC,gBAClB9F,OAAA;MAAGa,KAAK,EAAE;QAAEoE,SAAS,EAAE,QAAQ;QAAEc,SAAS,EAAE;MAAO,CAAE;MAAA/E,QAAA,EAAC;IAA0B;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAEpFrB,OAAA,CAAAE,SAAA;MAAAc,QAAA,EACKuB,QAAQ,KAAK,MAAM,gBAChBvC,OAAA;QAAKgF,SAAS,EAAC,WAAW;QAAAhE,QAAA,EACrBU,QAAQ,CAACiE,GAAG,CAACK,OAAO,IAAI;UACrB,MAAMC,QAAQ,GAAGD,OAAO,CAACE,UAAU,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAAGL,OAAO,CAACE,UAAU,EAAE,GAAG,yBAAyB;UACzH,oBACIlG,OAAA;YAAsBgF,SAAS,EAAC,MAAM;YAAAhE,QAAA,EACjC2B,cAAc,IAAIA,cAAc,CAAC0B,EAAE,KAAK2B,OAAO,CAAC3B,EAAE,gBAC/CrE,OAAA,CAAAE,SAAA;cAAAc,QAAA,GAAE,GAAC,eACChB,OAAA;gBAAKsG,GAAG,EAAEL,QAAS;gBAACM,GAAG,EAAEP,OAAO,CAACQ,YAAa;gBAACxB,SAAS,EAAC;cAAe;gBAAA9D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC3ErB,OAAA;gBAAKgF,SAAS,EAAC,YAAY;gBAACnE,KAAK,EAAE;kBAACP,KAAK,EAAE,MAAM;kBAAE2E,SAAS,EAAE;gBAAM,CAAE;gBAAAjE,QAAA,gBAClEhB,OAAA;kBAAAgB,QAAA,EAAO;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACrBrB,OAAA;kBAAOsC,IAAI,EAAC,QAAQ;kBAACyB,IAAI,EAAC,OAAO;kBAACC,KAAK,EAAErB,cAAc,CAAC2B,KAAM;kBAACoB,QAAQ,EAAE7B,YAAa;kBAAC4C,IAAI,EAAC;gBAAM;kBAAAvF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpG,CAAC,eACNrB,OAAA;gBAAKgF,SAAS,EAAC,YAAY;gBAACnE,KAAK,EAAE;kBAACP,KAAK,EAAE,MAAM;kBAAE2E,SAAS,EAAE;gBAAM,CAAE;gBAAAjE,QAAA,gBAClEhB,OAAA;kBAAAgB,QAAA,EAAO;gBAAQ;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACvBrB,OAAA;kBAAOsC,IAAI,EAAC,QAAQ;kBAACyB,IAAI,EAAC,uBAAuB;kBAACC,KAAK,EAAErB,cAAc,CAAC4B,qBAAsB;kBAACmB,QAAQ,EAAE7B;gBAAa;kBAAA3C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxH,CAAC,eACNrB,OAAA;gBAAQsF,OAAO,EAAEnB,eAAgB;gBAACa,SAAS,EAAC,iBAAiB;gBAACnE,KAAK,EAAE;kBAACP,KAAK,EAAE;gBAAM,CAAE;gBAAAU,QAAA,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACrGrB,OAAA;gBAAQsF,OAAO,EAAE1B,gBAAiB;gBAACoB,SAAS,EAAC,mBAAmB;gBAACnE,KAAK,EAAE;kBAACP,KAAK,EAAE,MAAM;kBAAEyF,SAAS,EAAE;gBAAM,CAAE;gBAAA/E,QAAA,EAAC;cAAQ;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,eAC/H,CAAC,gBAEHrB,OAAA,CAAAE,SAAA;cAAAc,QAAA,GAAE,GAAC,eACChB,OAAA;gBAAKsG,GAAG,EAAEL,QAAS;gBAACM,GAAG,EAAEP,OAAO,CAACQ,YAAa;gBAACxB,SAAS,EAAC;cAAe;gBAAA9D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC3ErB,OAAA;gBAAIgF,SAAS,EAAC,YAAY;gBAAAhE,QAAA,EAAEgF,OAAO,CAACQ;cAAY;gBAAAtF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACtDrB,OAAA;gBAAGgF,SAAS,EAAC,WAAW;gBAAAhE,QAAA,gBAAChB,OAAA;kBAAAgB,QAAA,EAAQ;gBAAM;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,QAAI,EAAC2E,OAAO,CAAC1B,KAAK;cAAA;gBAAApD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACvErB,OAAA;gBAAGgF,SAAS,EAAC,WAAW;gBAAAhE,QAAA,gBAAChB,OAAA;kBAAAgB,QAAA,EAAQ;gBAAQ;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAC2E,OAAO,CAACzB,qBAAqB;cAAA;gBAAArD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACtFrB,OAAA;gBAAQsF,OAAO,EAAEA,CAAA,KAAM5B,eAAe,CAACsC,OAAO,CAAE;gBAAChB,SAAS,EAAC,mBAAmB;gBAAAhE,QAAA,EAAC;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC9FrB,OAAA;gBAAQsF,OAAO,EAAEA,CAAA,KAAMd,iBAAiB,CAACwB,OAAO,CAAC3B,EAAE,CAAE;gBAACW,SAAS,EAAC,gBAAgB;gBAACnE,KAAK,EAAE;kBAAE6F,UAAU,EAAE,MAAM;kBAAEC,MAAM,EAAE,MAAM;kBAAEC,MAAM,EAAE;gBAAU,CAAE;gBAAA5F,QAAA,EAAC;cAAO;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,eACrK;UACL,GAxBK2E,OAAO,CAAC3B,EAAE;YAAAnD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAyBf,CAAC;QAEd,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,gBAENrB,OAAA;QAAKgF,SAAS,EAAC,qBAAqB;QAAAhE,QAAA,eAChChB,OAAA;UAAOgF,SAAS,EAAC,eAAe;UAAAhE,QAAA,gBAC5BhB,OAAA;YAAAgB,QAAA,eACIhB,OAAA;cAAAgB,QAAA,gBACIhB,OAAA;gBAAAgB,QAAA,EAAI;cAAO;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChBrB,OAAA;gBAAAgB,QAAA,EAAI;cAAQ;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjBrB,OAAA;gBAAAgB,QAAA,EAAI;cAAK;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACdrB,OAAA;gBAAAgB,QAAA,EAAI;cAAO;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChBrB,OAAA;gBAAAgB,QAAA,EAAI;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACfrB,OAAA;gBAAAgB,QAAA,EAAI;cAAK;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACd;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACRrB,OAAA;YAAAgB,QAAA,EACKU,QAAQ,CAACiE,GAAG,CAACK,OAAO,IAAI;cACrB,MAAMC,QAAQ,GAAGD,OAAO,CAACE,UAAU,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAAGL,OAAO,CAACE,UAAU,EAAE,GAAG,yBAAyB;cACzH,MAAMW,UAAU,GAAGpE,aAAa,KAAKuD,OAAO,CAAC3B,EAAE;cAC/C,oBACIrE,OAAA,CAACT,KAAK,CAACU,QAAQ;gBAAAe,QAAA,gBACXhB,OAAA;kBAAIgF,SAAS,EAAC,aAAa;kBAAAhE,QAAA,gBACvBhB,OAAA;oBAAAgB,QAAA,EAAKgF,OAAO,CAACQ;kBAAY;oBAAAtF,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC/BrB,OAAA;oBAAAgB,QAAA,EAAK,GAAGgF,OAAO,CAACc,aAAa,MAAMd,OAAO,CAACe,cAAc;kBAAE;oBAAA7F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACjErB,OAAA;oBAAAgB,QAAA,GAAI,KAAG,EAACgF,OAAO,CAAC1B,KAAK;kBAAA;oBAAApD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC3BrB,OAAA;oBAAAgB,QAAA,EAAKgF,OAAO,CAACzB;kBAAqB;oBAAArD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACxCrB,OAAA;oBAAAgB,QAAA,eACIhB,OAAA;sBAAQsF,OAAO,EAAEA,CAAA,KAAMT,oBAAoB,CAACmB,OAAO,CAAC3B,EAAE,CAAE;sBAACW,SAAS,EAAC,YAAY;sBAAAhE,QAAA,eAAChB,OAAA,CAACG,SAAS;wBAACC,QAAQ,EAAEyG;sBAAW;wBAAA3F,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC5H,CAAC,eACLrB,OAAA;oBAAIgF,SAAS,EAAC,cAAc;oBAAAhE,QAAA,gBACxBhB,OAAA;sBAAQsF,OAAO,EAAEA,CAAA,KAAM5B,eAAe,CAACsC,OAAO,CAAE;sBAAChB,SAAS,EAAC,MAAM;sBAAAhE,QAAA,EAAC;oBAAM;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACjFrB,OAAA;sBAAQsF,OAAO,EAAEA,CAAA,KAAMd,iBAAiB,CAACwB,OAAO,CAAC3B,EAAE,CAAE;sBAACW,SAAS,EAAC,gBAAgB;sBAAAhE,QAAA,EAAE;oBAAO;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,EACJwF,UAAU,iBACP7G,OAAA;kBAAIgF,SAAS,EAAC,qBAAqB;kBAAAhE,QAAA,eAAChB,OAAA;oBAAIgH,OAAO,EAAC,GAAG;oBAAAhG,QAAA,eAAChB,OAAA;sBAAKsG,GAAG,EAAEL,QAAS;sBAACM,GAAG,EAAEP,OAAO,CAACQ,YAAa;sBAACxB,SAAS,EAAC;oBAAwB;sBAAA9D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CACpJ;cAAA,GAhBgB2E,OAAO,CAAC3B,EAAE;gBAAAnD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAiBf,CAAC;YAEzB,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP;IACR,gBACH,CACL;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAACG,EAAA,CArNID,YAAY;EAAA,QACG3B,WAAW;AAAA;AAAAqH,GAAA,GAD1B1F,YAAY;AAuNlB,eAAeA,YAAY;AAAC,IAAAD,EAAA,EAAA2F,GAAA;AAAAC,YAAA,CAAA5F,EAAA;AAAA4F,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}