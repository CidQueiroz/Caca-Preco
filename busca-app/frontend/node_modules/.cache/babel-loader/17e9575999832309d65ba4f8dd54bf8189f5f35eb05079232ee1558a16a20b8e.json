{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cydyq\\\\Documents\\\\Python\\\\TesteCacaPreco\\\\cacapreco_ai\\\\busca-app\\\\frontend\\\\src\\\\pages\\\\MeusProdutos.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ArrowIcon = ({\n  expanded\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  width: \"24\",\n  height: \"24\",\n  stroke: \"currentColor\",\n  strokeWidth: \"2\",\n  fill: \"none\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  style: {\n    transform: expanded ? 'rotate(180deg)' : 'rotate(0deg)',\n    transition: 'transform 0.2s'\n  },\n  children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 5\n}, this);\n_c = ArrowIcon;\nconst MeusProdutos = () => {\n  _s();\n  const navigate = useNavigate();\n  const [produtos, setProdutos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    token\n  } = useContext(AuthContext);\n  const [categorias, setCategorias] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [notification, setNotification] = useState({\n    message: '',\n    type: ''\n  });\n  const [viewMode, setViewMode] = useState('card');\n  const [expandedRowId, setExpandedRowId] = useState(null);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [editingImage, setEditingImage] = useState(null); // Novo estado para a imagem em edição\n\n  const showNotification = (message, type) => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => setNotification({\n      message: '',\n      type: ''\n    }), 5000);\n  };\n  const fetchProdutos = useCallback(async () => {\n    setLoading(true);\n    try {\n      const baseUrl = process.env.REACT_APP_API_URL;\n      const url = selectedCategory ? `${baseUrl}/api/produtos/meus-produtos/?id_categoria=${selectedCategory}` : `${baseUrl}/api/produtos/meus-produtos/`;\n      const response = await axios.get(url, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setProdutos(response.data);\n    } catch (err) {\n      console.error(\"Falha ao buscar produtos:\", err);\n    }\n    setLoading(false);\n  }, [token, selectedCategory]);\n  useEffect(() => {\n    const fetchCategorias = async () => {\n      try {\n        const response = await axios.get('/api/categorias/', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setCategorias(response.data);\n      } catch (err) {\n        console.error(\"Falha ao buscar categorias\", err);\n      }\n    };\n    if (token) {\n      fetchProdutos();\n      fetchCategorias();\n    }\n  }, [token, fetchProdutos]);\n  const handleEditClick = product => {\n    setEditingProduct({\n      ...product\n    });\n    setEditingImage(null); // Limpa a imagem selecionada ao iniciar a edição\n  };\n  const handleCancelEdit = () => {\n    setEditingProduct(null);\n    setEditingImage(null); // Limpa a imagem selecionada ao cancelar\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      files\n    } = e.target;\n    if (type === 'file') {\n      setEditingImage(files[0]);\n    } else {\n      setEditingProduct(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n  const handleSaveClick = async () => {\n    if (!editingProduct) return;\n    const formData = new FormData();\n    formData.append('preco', editingProduct.preco);\n    formData.append('quantidade_disponivel', editingProduct.quantidade_disponivel);\n    if (editingImage) {\n      formData.append('imagem', editingImage);\n    }\n    try {\n      await axios.patch(`${process.env.REACT_APP_API_URL}/api/ofertas/${editingProduct.id}/`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${token}`\n        }\n      });\n      showNotification('Oferta atualizada com sucesso!', 'success');\n      setEditingProduct(null);\n      setEditingImage(null); // Limpa imagem após salvar\n      fetchProdutos();\n    } catch (err) {\n      showNotification('Falha ao atualizar a oferta.', 'error');\n      console.error(err);\n    }\n  };\n  const handleDeleteClick = async ofertaId => {\n    if (window.confirm('Tem certeza que deseja excluir esta oferta de produto?')) {\n      try {\n        await axios.delete(`/api/ofertas/${ofertaId}/`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        showNotification('Oferta excluída com sucesso!', 'success');\n        fetchProdutos();\n      } catch (err) {\n        showNotification('Falha ao excluir a oferta.', 'error');\n        console.error(err);\n      }\n    }\n  };\n  const toggleImageExpansion = produtoId => {\n    setExpandedRowId(prevId => prevId === produtoId ? null : produtoId);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"layout-logado-content\",\n    style: {\n      textAlign: 'center'\n    },\n    children: \"Carregando...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 25\n  }, this);\n\n  // --- RENDERIZAÇÃO PRINCIPAL ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [notification.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification ${notification.type}`,\n      children: notification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"dashboard-title\",\n        style: {\n          marginBottom: 0\n        },\n        children: \"Meus Produtos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/adicionar-oferta'),\n        className: \"btn btn-primary\",\n        children: \"Adicionar Nova Oferta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"view-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          flexGrow: 1,\n          maxWidth: '400px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"categoryFilter\",\n          children: \"Filtrar por Categoria:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"categoryFilter\",\n          value: selectedCategory,\n          onChange: e => setSelectedCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Todas as Categorias\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), categorias.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat.id,\n            children: cat.nome\n          }, cat.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 49\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-toggle-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('card'),\n          className: `btn ${viewMode === 'card' ? 'btn-terciaria' : 'btn-secondary'}`,\n          children: \"Cards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setViewMode('list'),\n          className: `btn ${viewMode === 'list' ? 'btn-terciaria' : 'btn-secondary'}`,\n          children: \"Lista\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), produtos.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '20px'\n      },\n      children: \"Nenhum produto encontrado.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: viewMode === 'card' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-grid\",\n        children: produtos.map(produto => {\n          const imageUrl = produto.url_imagem; // Agora o backend sempre retorna uma URL válida\n\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [\" \", editingProduct && editingProduct.id === produto.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: editingProduct.url_imagem,\n                alt: editingProduct.nome_produto,\n                className: \"imagem-produto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Pre\\xE7o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  name: \"preco\",\n                  value: editingProduct.preco || '',\n                  onChange: handleChange,\n                  step: \"0.01\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Estoque:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  name: \"quantidade_disponivel\",\n                  value: editingProduct.quantidade_disponivel || '',\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Alterar Imagem:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  name: \"imagem\",\n                  onChange: handleChange,\n                  accept: \"image/png, image/jpeg, image/webp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSaveClick,\n                  className: \"btn btn-primary\",\n                  children: \"Salvar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancelEdit,\n                  className: \"btn btn-secondary\",\n                  children: \"Cancelar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteClick(editingProduct.id),\n                  className: \"btn btn-danger\",\n                  children: \"Excluir\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageUrl,\n                alt: produto.nome_produto,\n                className: \"product-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"card-title\",\n                children: produto.nome_produto\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Categoria:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 74\n                }, this), \" \", produto.nome_categoria || 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: produto.descricao\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Varia\\xE7\\xE3o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 74\n                }, this), \" \", produto.variacao_formatada]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Pre\\xE7o:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 74\n                }, this), \" R$ \", produto.preco]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Estoque:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 74\n                }, this), \" \", produto.quantidade_disponivel]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEditClick(produto),\n                className: \"btn btn-secondary\",\n                children: \"Editar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true)]\n          }, produto.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 37\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-view-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"product-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Produto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Varia\\xE7\\xE3o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Pre\\xE7o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Estoque\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Imagem\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"A\\xE7\\xF5es\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: produtos.map(produto => {\n              const isEditing = editingProduct && editingProduct.id === produto.id;\n              const imageUrl = produto.url_imagem; // Agora o backend sempre retorna uma URL válida\n              const isExpanded = expandedRowId === produto.id;\n              return /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [isEditing ?\n                /*#__PURE__*/\n                // --- LINHA DE EDIÇÃO ---\n                _jsxDEV(\"tr\", {\n                  className: \"product-row-editing\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: produto.nome_produto\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: produto.variacao_formatada\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      name: \"preco\",\n                      value: editingProduct.preco,\n                      onChange: handleChange,\n                      className: \"form-input-table\",\n                      step: \"0.01\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      name: \"quantidade_disponivel\",\n                      value: editingProduct.quantidade_disponivel,\n                      onChange: handleChange,\n                      className: \"form-input-table\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      name: \"imagem\",\n                      onChange: handleChange,\n                      accept: \"image/png, image/jpeg, image/webp\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"action-links-editing\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: handleSaveClick,\n                      className: \"btn-save\",\n                      children: \"Salvar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleDeleteClick(editingProduct.id),\n                      className: \"btn-delete\",\n                      children: \"Excluir\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: handleCancelEdit,\n                      className: \"btn-cancel\",\n                      children: \"Cancelar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 53\n                }, this) :\n                /*#__PURE__*/\n                // --- LINHA DE VISUALIZAÇÃO ---\n                _jsxDEV(\"tr\", {\n                  className: \"product-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: produto.nome_produto\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: produto.variacao_formatada\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"R$ \", produto.preco]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: produto.quantidade_disponivel\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => toggleImageExpansion(produto.id),\n                      className: \"expand-btn\",\n                      children: /*#__PURE__*/_jsxDEV(ArrowIcon, {\n                        expanded: isExpanded\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 141\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"action-links\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleEditClick(produto),\n                      className: \"btn btn-secondary\",\n                      children: \"Editar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 53\n                }, this), isExpanded && !isEditing && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"image-expansion-row\",\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"6\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: produto.url_imagem,\n                      alt: produto.nome_produto,\n                      className: \"expanded-product-image\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 73\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 53\n                }, this)]\n              }, produto.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 45\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 25\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n};\n_s(MeusProdutos, \"DnSHLU7d0IQcMnl8G6ZwqmSSIos=\", false, function () {\n  return [useNavigate];\n});\n_c2 = MeusProdutos;\nexport default MeusProdutos;\nvar _c, _c2;\n$RefreshReg$(_c, \"ArrowIcon\");\n$RefreshReg$(_c2, \"MeusProdutos\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useCallback","useNavigate","axios","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","ArrowIcon","expanded","viewBox","width","height","stroke","strokeWidth","fill","strokeLinecap","strokeLinejoin","style","transform","transition","children","points","fileName","_jsxFileName","lineNumber","columnNumber","_c","MeusProdutos","_s","navigate","produtos","setProdutos","loading","setLoading","token","categorias","setCategorias","selectedCategory","setSelectedCategory","notification","setNotification","message","type","viewMode","setViewMode","expandedRowId","setExpandedRowId","editingProduct","setEditingProduct","editingImage","setEditingImage","showNotification","setTimeout","fetchProdutos","baseUrl","process","env","REACT_APP_API_URL","url","response","get","headers","Authorization","data","err","console","error","fetchCategorias","handleEditClick","product","handleCancelEdit","handleChange","e","name","value","files","target","prev","handleSaveClick","formData","FormData","append","preco","quantidade_disponivel","patch","id","handleDeleteClick","ofertaId","window","confirm","delete","toggleImageExpansion","produtoId","prevId","className","textAlign","display","justifyContent","alignItems","marginBottom","onClick","flexGrow","maxWidth","htmlFor","onChange","map","cat","nome","length","marginTop","produto","imageUrl","url_imagem","src","alt","nome_produto","step","accept","nome_categoria","descricao","variacao_formatada","isEditing","isExpanded","colSpan","_c2","$RefreshReg$"],"sources":["C:/Users/cydyq/Documents/Python/TesteCacaPreco/cacapreco_ai/busca-app/frontend/src/pages/MeusProdutos.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from '../context/AuthContext';\n\nconst ArrowIcon = ({ expanded }) => (\n    <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" style={{ transform: expanded ? 'rotate(180deg)' : 'rotate(0deg)', transition: 'transform 0.2s' }}>\n        <polyline points=\"6 9 12 15 18 9\"></polyline>\n    </svg>\n);\n\nconst MeusProdutos = () => {\n    const navigate = useNavigate();\n    const [produtos, setProdutos] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const { token } = useContext(AuthContext);\n    const [categorias, setCategorias] = useState([]);\n    const [selectedCategory, setSelectedCategory] = useState('');\n    const [notification, setNotification] = useState({ message: '', type: '' });\n    \n    const [viewMode, setViewMode] = useState('card');\n    const [expandedRowId, setExpandedRowId] = useState(null);\n    const [editingProduct, setEditingProduct] = useState(null);\n    const [editingImage, setEditingImage] = useState(null); // Novo estado para a imagem em edição\n\n    const showNotification = (message, type) => {\n        setNotification({ message, type });\n        setTimeout(() => setNotification({ message: '', type: '' }), 5000);\n    };\n\n    const fetchProdutos = useCallback(async () => {\n        setLoading(true);\n        try {\n            const baseUrl = process.env.REACT_APP_API_URL;\n            const url = selectedCategory \n                ? `${baseUrl}/api/produtos/meus-produtos/?id_categoria=${selectedCategory}` \n                : `${baseUrl}/api/produtos/meus-produtos/`;\n            const response = await axios.get(url, { headers: { Authorization: `Bearer ${token}` } });\n            setProdutos(response.data);\n        } catch (err) {\n            console.error(\"Falha ao buscar produtos:\", err);\n        }\n        setLoading(false);\n    }, [token, selectedCategory]);\n\n    useEffect(() => {\n        const fetchCategorias = async () => {\n            try {\n                const response = await axios.get('/api/categorias/', { headers: { Authorization: `Bearer ${token}` } });\n                setCategorias(response.data);\n            } catch (err) {\n                console.error(\"Falha ao buscar categorias\", err);\n            }\n        };\n        if (token) {\n            fetchProdutos();\n            fetchCategorias();\n        }\n    }, [token, fetchProdutos]);\n    \n    const handleEditClick = (product) => {\n        setEditingProduct({ ...product });\n        setEditingImage(null); // Limpa a imagem selecionada ao iniciar a edição\n    };\n\n    const handleCancelEdit = () => {\n        setEditingProduct(null);\n        setEditingImage(null); // Limpa a imagem selecionada ao cancelar\n    };\n\n    const handleChange = (e) => {\n        const { name, value, type, files } = e.target;\n        if (type === 'file') {\n            setEditingImage(files[0]);\n        } else {\n            setEditingProduct(prev => ({ ...prev, [name]: value }));\n        }\n    };\n\n    const handleSaveClick = async () => {\n        if (!editingProduct) return;\n\n        const formData = new FormData();\n        formData.append('preco', editingProduct.preco);\n        formData.append('quantidade_disponivel', editingProduct.quantidade_disponivel);\n        \n        if (editingImage) {\n            formData.append('imagem', editingImage);\n        }\n\n        try {\n            await axios.patch(`${process.env.REACT_APP_API_URL}/api/ofertas/${editingProduct.id}/`, formData, {\n                headers: {\n                    'Content-Type': 'multipart/form-data',\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            showNotification('Oferta atualizada com sucesso!', 'success');\n            setEditingProduct(null);\n            setEditingImage(null); // Limpa imagem após salvar\n            fetchProdutos();\n        } catch (err) {\n            showNotification('Falha ao atualizar a oferta.', 'error');\n            console.error(err);\n        }\n    };\n\n    const handleDeleteClick = async (ofertaId) => {\n        if (window.confirm('Tem certeza que deseja excluir esta oferta de produto?')) {\n            try {\n                await axios.delete(`/api/ofertas/${ofertaId}/`, { headers: { Authorization: `Bearer ${token}` } });\n                showNotification('Oferta excluída com sucesso!', 'success');\n                fetchProdutos();\n            } catch (err) {\n                showNotification('Falha ao excluir a oferta.', 'error');\n                console.error(err);\n            }\n        }\n    };\n\n    const toggleImageExpansion = (produtoId) => {\n        setExpandedRowId(prevId => (prevId === produtoId ? null : produtoId));\n    };\n\n    if (loading) return <div className=\"layout-logado-content\" style={{textAlign: 'center'}}>Carregando...</div>;\n\n    // --- RENDERIZAÇÃO PRINCIPAL ---\n    return (\n        <div>\n            {notification.message && (\n                <div className={`notification ${notification.type}`}>\n                    {notification.message}\n                </div>\n            )}\n            \n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n                <h1 className=\"dashboard-title\" style={{marginBottom: 0}}>Meus Produtos</h1>\n                <button onClick={() => navigate('/adicionar-oferta')} className=\"btn btn-primary\">Adicionar Nova Oferta</button>\n            </div>\n            \n            <div className=\"view-controls\">\n                <div className=\"form-group\" style={{ flexGrow: 1, maxWidth: '400px' }}>\n                    <label htmlFor=\"categoryFilter\">Filtrar por Categoria:</label>\n                    <select id=\"categoryFilter\" value={selectedCategory} onChange={(e) => setSelectedCategory(e.target.value)}>\n                        <option value=\"\">Todas as Categorias</option>\n                        {categorias.map(cat => (<option key={cat.id} value={cat.id}>{cat.nome}</option>))}\n                    </select>\n                </div>\n                <div className=\"view-toggle-buttons\">\n                    <button onClick={() => setViewMode('card')} className={`btn ${viewMode === 'card' ? 'btn-terciaria' : 'btn-secondary'}`}>Cards</button>\n                    <button onClick={() => setViewMode('list')} className={`btn ${viewMode === 'list' ? 'btn-terciaria' : 'btn-secondary'}`}>Lista</button>\n                </div>\n            </div>\n\n            {produtos.length === 0 ? (\n                <p style={{ textAlign: 'center', marginTop: '20px' }}>Nenhum produto encontrado.</p>\n            ) : (\n                <>\n                    {viewMode === 'card' ? (\n                        <div className=\"card-grid\">\n                            {produtos.map(produto => {\n                                const imageUrl = produto.url_imagem; // Agora o backend sempre retorna uma URL válida\n\n                                return (\n                                    <div key={produto.id} className=\"card\"> {/* Use o ID da oferta como chave */}\n                                        {editingProduct && editingProduct.id === produto.id ? (\n                                            <> {/* Edit mode */}\n                                                \n                                                <img \n                                                    src={editingProduct.url_imagem} \n                                                    alt={editingProduct.nome_produto} \n                                                    className=\"imagem-produto\" \n                                                />\n                                                \n                                                <div className=\"form-group\">\n                                                    <label>Preço:</label>\n                                                    <input type=\"number\" name=\"preco\" value={editingProduct.preco || ''} onChange={handleChange} step=\"0.01\" />\n                                                </div>\n                                                \n                                                <div className=\"form-group\">\n                                                    <label>Estoque:</label>\n                                                    <input type=\"number\" name=\"quantidade_disponivel\" value={editingProduct.quantidade_disponivel || ''} onChange={handleChange} />\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <label>Alterar Imagem:</label>\n                                                    <input type=\"file\" name=\"imagem\" onChange={handleChange} accept=\"image/png, image/jpeg, image/webp\" />\n                                                </div>\n                                                \n                                                <div className=\"form-actions\">\n                                                    <button onClick={handleSaveClick} className=\"btn btn-primary\">Salvar</button>\n                                                    <button onClick={handleCancelEdit} className=\"btn btn-secondary\">Cancelar</button>\n                                                    <button onClick={() => handleDeleteClick(editingProduct.id)} className=\"btn btn-danger\">Excluir</button>\n                                                </div>\n                                            </>\n                                        ) : (\n                                            <> {/* Display mode */}\n                                                \n                                                <img src={imageUrl} alt={produto.nome_produto} className=\"product-image\" />\n                                                \n                                                <h2 className=\"card-title\">{produto.nome_produto}</h2>\n                                                <p className=\"card-text\"><strong>Categoria:</strong> {produto.nome_categoria || 'N/A'}</p>\n                                                <p className=\"card-text\">{produto.descricao}</p>\n                                                <p className=\"card-text\"><strong>Variação:</strong> {produto.variacao_formatada}</p>\n                                                <p className=\"card-text\"><strong>Preço:</strong> R$ {produto.preco}</p>\n                                                <p className=\"card-text\"><strong>Estoque:</strong> {produto.quantidade_disponivel}</p>\n                                                <button onClick={() => handleEditClick(produto)} className=\"btn btn-secondary\">Editar</button>\n                                            </>\n                                        )}\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    ) : (\n                        <div className=\"list-view-container\">\n                            <table className=\"product-table\">\n                                <thead>\n                                    <tr>\n                                        <th>Produto</th>\n                                        <th>Variação</th>\n                                        <th>Preço</th>\n                                        <th>Estoque</th>\n                                        <th>Imagem</th>\n                                        <th>Ações</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {produtos.map(produto => {\n                                        const isEditing = editingProduct && editingProduct.id === produto.id;\n                                        const imageUrl = produto.url_imagem; // Agora o backend sempre retorna uma URL válida\n                                        const isExpanded = expandedRowId === produto.id;\n\n                                        return (\n                                            <React.Fragment key={produto.id}>\n                                                {isEditing ? (\n                                                    // --- LINHA DE EDIÇÃO ---\n                                                    <tr className=\"product-row-editing\">\n                                                        <td>{produto.nome_produto}</td>\n                                                        <td>{produto.variacao_formatada}</td>\n                                                        \n                                                        <td>\n                                                            <input\n                                                                type=\"number\"\n                                                                name=\"preco\"\n                                                                value={editingProduct.preco}\n                                                                onChange={handleChange}\n                                                                className=\"form-input-table\"\n                                                                step=\"0.01\"\n                                                            />\n                                                        </td>\n                                                        \n                                                        <td>\n                                                            <input\n                                                                type=\"number\"\n                                                                name=\"quantidade_disponivel\"\n                                                                value={editingProduct.quantidade_disponivel}\n                                                                onChange={handleChange}\n                                                                className=\"form-input-table\"\n                                                            />\n                                                        </td>\n                                                        \n                                                        <td>\n                                                            <input type=\"file\" name=\"imagem\" onChange={handleChange} accept=\"image/png, image/jpeg, image/webp\" />\n                                                        </td>\n                                                        \n                                                        <td className=\"action-links-editing\">\n                                                            <button onClick={handleSaveClick} className=\"btn-save\">Salvar</button>\n                                                            <button onClick={() => handleDeleteClick(editingProduct.id)} className=\"btn-delete\">Excluir</button>\n                                                            <button onClick={handleCancelEdit} className=\"btn-cancel\">Cancelar</button>\n                                                        </td>\n                                                    \n                                                    </tr>\n                                                ) : (\n                                                    // --- LINHA DE VISUALIZAÇÃO ---\n                                                    <tr className=\"product-row\">\n                                                        <td>{produto.nome_produto}</td>\n                                                        <td>{produto.variacao_formatada}</td>\n                                                        <td>R$ {produto.preco}</td>\n                                                        <td>{produto.quantidade_disponivel}</td>\n                                                        <td>\n                                                            <button onClick={() => toggleImageExpansion(produto.id)} className=\"expand-btn\"><ArrowIcon expanded={isExpanded} /></button>\n                                                        </td>\n                                                        <td className=\"action-links\">\n                                                            <button onClick={() => handleEditClick(produto)} className=\"btn btn-secondary\">Editar</button>\n                                                        </td>\n                                                    </tr>\n                                                )}\n\n                                                {isExpanded && !isEditing && (\n                                                    <tr className=\"image-expansion-row\">\n                                                        <td colSpan=\"6\"><img src={produto.url_imagem} alt={produto.nome_produto} className=\"expanded-product-image\" /></td>\n                                                    </tr>\n                                                )}\n                                            </React.Fragment>\n                                        );\n                                    })}\n                                </tbody>\n                            </table>\n                        </div>\n                    )}\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default MeusProdutos;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}