{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cydyq\\\\Documents\\\\Python\\\\TesteCacaPreco\\\\cacapreco_ai\\\\busca-app\\\\frontend\\\\src\\\\pages\\\\VerificarEmail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VerificarEmail = () => {\n  _s();\n  const navegar = useNavigate();\n  const localizacao = useLocation();\n  const [codigoVerificacao, setCodigoVerificacao] = useState('');\n  const [notification, setNotification] = useState({\n    message: '',\n    type: ''\n  });\n  const showNotification = (message, type) => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => {\n      setNotification({\n        message: '',\n        type: ''\n      });\n    }, 3000);\n  };\n  const {\n    email\n  } = localizacao.state || {};\n  if (!email) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Erro: Email n\\xE3o encontrado. Por favor, \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/cadastro\",\n        children: \"comece o processo de cadastro novamente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 58\n      }, this), \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 16\n    }, this);\n  }\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/autenticacao/verify-email`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          tokenConfirmacao: codigoVerificacao\n        })\n      });\n      const dados = await response.json();\n      if (response.ok) {\n        showNotification('Conta ativada com sucesso! Redirecionando para o login...', 'success');\n        setTimeout(() => {\n          navegar('/login');\n        }, 3000);\n      } else {\n        showNotification(dados.message || 'Ocorreu um erro ao verificar o código.', 'error');\n      }\n    } catch (error) {\n      showNotification('Falha ao conectar com o servidor.', 'error');\n    }\n  };\n  const handleReenviarCodigo = async () => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/autenticacao/resend-verification`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email\n        })\n      });\n      const dados = await response.json();\n      if (response.ok) {\n        showNotification(dados.message + ' Por favor, verifique seu email e digite 123456.', 'success');\n      } else {\n        showNotification(dados.message || 'Erro ao reenviar código.', 'error');\n      }\n    } catch (error) {\n      showNotification('Falha ao conectar com o servidor.', 'error');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [notification.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification ${notification.type}`,\n      children: notification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Verifique seu Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Enviamos um c\\xF3digo de confirma\\xE7\\xE3o para \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 55\n      }, this), \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Para fins de desenvolvimento, o c\\xF3digo \\xE9 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"123456\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 57\n      }, this), \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: codigoVerificacao,\n        onChange: e => setCodigoVerificacao(e.target.value),\n        placeholder: \"Digite o c\\xF3digo de 6 d\\xEDgitos\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Verificar e Ativar Conta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), erro && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: erro\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 22\n    }, this), mensagem && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'green'\n      },\n      children: mensagem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: handleReenviarCodigo,\n      style: {\n        marginTop: '10px'\n      },\n      children: \"Reenviar C\\xF3digo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_s(VerificarEmail, \"gbIkfvnG0j43j3E1t99BgiJiTlA=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = VerificarEmail;\nexport default VerificarEmail;\nvar _c;\n$RefreshReg$(_c, \"VerificarEmail\");","map":{"version":3,"names":["React","useState","useLocation","useNavigate","jsxDEV","_jsxDEV","VerificarEmail","_s","navegar","localizacao","codigoVerificacao","setCodigoVerificacao","notification","setNotification","message","type","showNotification","setTimeout","email","state","children","href","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","e","preventDefault","response","fetch","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","tokenConfirmacao","dados","json","ok","error","handleReenviarCodigo","className","onSubmit","value","onChange","target","placeholder","required","erro","style","color","mensagem","onClick","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/cydyq/Documents/Python/TesteCacaPreco/cacapreco_ai/busca-app/frontend/src/pages/VerificarEmail.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nconst VerificarEmail = () => {\n    const navegar = useNavigate();\n    const localizacao = useLocation();\n    const [codigoVerificacao, setCodigoVerificacao] = useState('');\n    const [notification, setNotification] = useState({ message: '', type: '' });\n\n    const showNotification = (message, type) => {\n        setNotification({ message, type });\n        setTimeout(() => {\n            setNotification({ message: '', type: '' });\n        }, 3000);\n    };\n\n    const { email } = localizacao.state || {};\n\n    if (!email) {\n        return <p>Erro: Email não encontrado. Por favor, <a href=\"/cadastro\">comece o processo de cadastro novamente</a>.</p>;\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/autenticacao/verify-email`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ email, tokenConfirmacao: codigoVerificacao }),\n            });\n\n            const dados = await response.json();\n\n            if (response.ok) {\n                showNotification('Conta ativada com sucesso! Redirecionando para o login...', 'success');\n                setTimeout(() => {\n                    navegar('/login');\n                }, 3000); \n            } else {\n                showNotification(dados.message || 'Ocorreu um erro ao verificar o código.', 'error');\n            }\n        } catch (error) {\n            showNotification('Falha ao conectar com o servidor.', 'error');\n        }\n    };\n\n    const handleReenviarCodigo = async () => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}/autenticacao/resend-verification`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ email }),\n            });\n            const dados = await response.json();\n            if (response.ok) {\n                showNotification(dados.message + ' Por favor, verifique seu email e digite 123456.', 'success');\n            } else {\n                showNotification(dados.message || 'Erro ao reenviar código.', 'error');\n            }\n        } catch (error) {\n            showNotification('Falha ao conectar com o servidor.', 'error');\n        }\n    };\n\n    return (\n        <div>\n            {notification.message && (\n                <div className={`notification ${notification.type}`}>\n                    {notification.message}\n                </div>\n            )}\n            <h2>Verifique seu Email</h2>\n            <p>Enviamos um código de confirmação para <strong>{email}</strong>.</p>\n            <p>Para fins de desenvolvimento, o código é <strong>123456</strong>.</p>\n            \n            <form onSubmit={handleSubmit}>\n                <input \n                    type=\"text\" \n                    value={codigoVerificacao} \n                    onChange={(e) => setCodigoVerificacao(e.target.value)} \n                    placeholder=\"Digite o código de 6 dígitos\" \n                    required \n                />\n                <button type=\"submit\">Verificar e Ativar Conta</button>\n            </form>\n\n            {erro && <p style={{ color: 'red' }}>{erro}</p>}\n            {mensagem && <p style={{ color: 'green' }}>{mensagem}</p>}\n\n            <button type=\"button\" onClick={handleReenviarCodigo} style={{ marginTop: '10px' }}>\n                Reenviar Código\n            </button>\n        </div>\n    );\n};\n\nexport default VerificarEmail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}