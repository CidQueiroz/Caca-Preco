{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cydyq\\\\Documents\\\\Python\\\\TesteCacaPreco\\\\cacapreco_ai\\\\busca-app\\\\frontend\\\\src\\\\pages\\\\VerificarEmail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios'; // Import axios\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VerificarEmail = () => {\n  _s();\n  var _localizacao$state, _localizacao$state3;\n  const navegar = useNavigate();\n  const localizacao = useLocation();\n  const [email, setEmail] = useState(((_localizacao$state = localizacao.state) === null || _localizacao$state === void 0 ? void 0 : _localizacao$state.email) || ''); // Initialize with email from state or empty\n  const [notification, setNotification] = useState({\n    message: '',\n    type: ''\n  });\n  const showNotification = (message, type) => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => {\n      setNotification({\n        message: '',\n        type: ''\n      });\n    }, 5000); // Increased timeout for better visibility\n  };\n\n  // If email is not provided via state, user needs to input it\n  useEffect(() => {\n    var _localizacao$state2;\n    if (!((_localizacao$state2 = localizacao.state) !== null && _localizacao$state2 !== void 0 && _localizacao$state2.email)) {\n      showNotification('Por favor, digite seu email para reenviar o link de verificação.', 'info');\n    }\n  }, [(_localizacao$state3 = localizacao.state) === null || _localizacao$state3 === void 0 ? void 0 : _localizacao$state3.email]);\n  const handleReenviarEmail = async e => {\n    // Renamed function\n    e.preventDefault(); // Prevent form submission if wrapped in a form\n\n    if (!email) {\n      showNotification('Por favor, digite seu email.', 'error');\n      return;\n    }\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/reenviar-verificacao/`, {\n        email\n      }); // Correct Django endpoint\n\n      if (response.status === 200) {\n        // Django returns 200 OK\n        showNotification(response.data.message || 'Link de verificação reenviado com sucesso! Por favor, verifique seu email.', 'success');\n      } else {\n        showNotification(response.data.message || 'Erro ao reenviar link de verificação.', 'error');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Erro ao reenviar link de verificação:', error.response ? error.response.data : error.message);\n      showNotification(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Falha ao conectar com o servidor ou erro ao reenviar link.', 'error');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      padding: '20px'\n    },\n    children: [notification.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification ${notification.type}`,\n      style: {\n        marginBottom: '20px',\n        padding: '10px',\n        borderRadius: '5px',\n        backgroundColor: notification.type === 'success' ? '#d4edda' : '#f8d7da',\n        color: notification.type === 'success' ? '#155724' : '#721c24'\n      },\n      children: notification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Verifique seu Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginBottom: '20px'\n      },\n      children: \"Para acessar todas as funcionalidades, por favor, verifique seu email clicando no link que enviamos.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleReenviarEmail,\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"emailInput\",\n          style: {\n            display: 'block',\n            marginBottom: '5px'\n          },\n          children: \"Seu Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"emailInput\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          placeholder: \"Digite seu email\",\n          required: true,\n          style: {\n            padding: '10px',\n            width: '300px',\n            borderRadius: '5px',\n            border: '1px solid #ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: 'pointer'\n        },\n        children: \"Reenviar Link de Verifica\\xE7\\xE3o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: [\"J\\xE1 verificou? \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/login\",\n        style: {\n          color: '#007bff',\n          textDecoration: 'none'\n        },\n        children: \"Fa\\xE7a login aqui\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 60\n      }, this), \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s(VerificarEmail, \"c4EWRHskXMaR+2eGPfLm454yBHQ=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = VerificarEmail;\nexport default VerificarEmail;\nvar _c;\n$RefreshReg$(_c, \"VerificarEmail\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","axios","jsxDEV","_jsxDEV","VerificarEmail","_s","_localizacao$state","_localizacao$state3","navegar","localizacao","email","setEmail","state","notification","setNotification","message","type","showNotification","setTimeout","_localizacao$state2","handleReenviarEmail","e","preventDefault","response","post","process","env","REACT_APP_API_URL","status","data","error","_error$response","_error$response$data","console","style","textAlign","padding","children","className","marginBottom","borderRadius","backgroundColor","color","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","display","id","value","onChange","target","placeholder","required","width","border","cursor","marginTop","href","textDecoration","_c","$RefreshReg$"],"sources":["C:/Users/cydyq/Documents/Python/TesteCacaPreco/cacapreco_ai/busca-app/frontend/src/pages/VerificarEmail.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios'; // Import axios\n\nconst VerificarEmail = () => {\n    const navegar = useNavigate();\n    const localizacao = useLocation();\n    const [email, setEmail] = useState(localizacao.state?.email || ''); // Initialize with email from state or empty\n    const [notification, setNotification] = useState({ message: '', type: '' });\n\n    const showNotification = (message, type) => {\n        setNotification({ message, type });\n        setTimeout(() => {\n            setNotification({ message: '', type: '' });\n        }, 5000); // Increased timeout for better visibility\n    };\n\n    // If email is not provided via state, user needs to input it\n    useEffect(() => {\n        if (!localizacao.state?.email) {\n            showNotification('Por favor, digite seu email para reenviar o link de verificação.', 'info');\n        }\n    }, [localizacao.state?.email]);\n\n\n    const handleReenviarEmail = async (e) => { // Renamed function\n        e.preventDefault(); // Prevent form submission if wrapped in a form\n\n        if (!email) {\n            showNotification('Por favor, digite seu email.', 'error');\n            return;\n        }\n\n        try {\n            const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/reenviar-verificacao/`, { email }); // Correct Django endpoint\n\n            if (response.status === 200) { // Django returns 200 OK\n                showNotification(response.data.message || 'Link de verificação reenviado com sucesso! Por favor, verifique seu email.', 'success');\n            } else {\n                showNotification(response.data.message || 'Erro ao reenviar link de verificação.', 'error');\n            }\n        } catch (error) {\n            console.error('Erro ao reenviar link de verificação:', error.response ? error.response.data : error.message);\n            showNotification(error.response?.data?.message || 'Falha ao conectar com o servidor ou erro ao reenviar link.', 'error');\n        }\n    };\n\n    return (\n        <div style={{ textAlign: 'center', padding: '20px' }}>\n            {notification.message && (\n                <div className={`notification ${notification.type}`} style={{ marginBottom: '20px', padding: '10px', borderRadius: '5px', backgroundColor: notification.type === 'success' ? '#d4edda' : '#f8d7da', color: notification.type === 'success' ? '#155724' : '#721c24' }}>\n                    {notification.message}\n                </div>\n            )}\n            <h2>Verifique seu Email</h2>\n            <p style={{ marginBottom: '20px' }}>Para acessar todas as funcionalidades, por favor, verifique seu email clicando no link que enviamos.</p>\n            \n            <form onSubmit={handleReenviarEmail}> {/* Wrap in a form */}\n                <div style={{ marginBottom: '15px' }}>\n                    <label htmlFor=\"emailInput\" style={{ display: 'block', marginBottom: '5px' }}>Seu Email:</label>\n                    <input\n                        type=\"email\"\n                        id=\"emailInput\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        placeholder=\"Digite seu email\"\n                        required\n                        style={{ padding: '10px', width: '300px', borderRadius: '5px', border: '1px solid #ccc' }}\n                    />\n                </div>\n                <button type=\"submit\" style={{ padding: '10px 20px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '5px', cursor: 'pointer' }}>\n                    Reenviar Link de Verificação\n                </button>\n            </form>\n\n            <p style={{ marginTop: '20px' }}>Já verificou? <a href=\"/login\" style={{ color: '#007bff', textDecoration: 'none' }}>Faça login aqui</a>.</p>\n        </div>\n    );\n};\n\nexport default VerificarEmail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}